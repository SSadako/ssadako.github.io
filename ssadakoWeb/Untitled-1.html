<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!--splide css cdn-->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">
    <!--custom css-->
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
    <!--CUSTOMIZE-->
    <div class="dropdown">
        <button id="c-header" onclick="ChapterList()" class="dropbtn"></button>
        <div id="myDropdown" class="dropdown-content">
            <a href="Untitled-0.html">#0</a>
            <a href="Untitled-1.html">#1</a>
        </div>
    </div>
    <!--SPLIDE-->
    <div class="splide">
        <div class="splide__track">
            <div class="splide__list" id="pages">
            </div>
        </div>
    </div>
    <!--splide js cdn-->
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script type="text/javascript" src="chapterlist.js"></script>
    <script type="text/javascript">
        function ChapterList() {
            document.getElementById("myDropdown").classList.toggle("show");
        }
        window.onclick = function (event) {
            if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
        document.getElementById('pages').innerHTML = '';
            document.getElementsByClassName('splide__pagination splide__pagination--ttb').innerHTML = '';
            var path = window.location.pathname;
            var x = path.split("/").pop();
            var y = x.split(".html")[0].split("-");
            var CHAPTER = y.join(" #");
            var PAGES = Unnamed[y[1]];
            document.title = CHAPTER;
            document.getElementById('c-header').textContent = document.title;
            var i = 1;
            for (i = 1; i < PAGES + 1; i++) {
                var p = document.createElement('div');
                var ib = document.createElement('div');
                p.appendChild(ib);
                var img = document.createElement('image');
                ib.appendChild(img);
                p.classList.add("splide__slide");
                ib.classList.add("img_box");
                img.setAttribute('src', 'Unnamed/' + y[1] + '/' + i + '.jpg');
                document.getElementById('pages').appendChild(p);
                var imgElement = document.querySelector('image');
                var imgHTML = imgElement.outerHTML;
                var modifiedHTML = imgHTML.replace('</image>', '');
                imgElement.outerHTML = modifiedHTML;
            }
            var splide = new Splide('.splide', {
                direction: 'ttb',
                height: '40rem',
                wheel: true,
            });
            splide.mount();
    </script>
</body>

</html>